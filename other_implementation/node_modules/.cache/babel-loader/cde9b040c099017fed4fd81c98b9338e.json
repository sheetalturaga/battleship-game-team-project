{"ast":null,"code":"export const SPACE_LENGTH = 100;\nexport const SHIPS_OBJ = {\n  scout: 2,\n  submarine: 3,\n  destroyer: 4,\n  aircraft: 5\n};\nexport const MAP_OF_SHIP_COORDS = {\n  scout: [],\n  submarine: [],\n  destroyer: [],\n  aircraft: []\n};\nexport const UNIQUE_IDS = {\n  scout: 'sct',\n  submarine: 'sbe',\n  destroyer: 'der',\n  aircraft: 'act'\n};\nexport const COUNTER = {\n  scout: 0,\n  submarine: 0,\n  destroyer: 0,\n  aircraft: 0\n};\nexport const DIRECTION_ARR = ['horizontal', 'vertical'];\nexport const AVAILABLE_SPACES = [];\nexport const TRACKING_USED_SQUARE = [];\nconst defaultState = {\n  count: 0,\n  gameBoard: [['', '', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', '', '']],\n  isComputerTurn: false\n};\nexport default function generateEmptyBoard() {\n  let defaultState = {\n    count: 0,\n    gameBoard: [['', '', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', '', '']]\n  };\n  let gameBoardPlacerHolder = defaultState.gameBoard;\n\n  for (let row = 0; row < gameBoardPlacerHolder.length; row++) {\n    for (let column = 0; column < gameBoardPlacerHolder.length; column++) {\n      AVAILABLE_SPACES.push([row, column]);\n    }\n  } //remove i, j from availabke spaces\n  //when generating coords, check if i, j exist, if it doesnt then use function to check that the spaces are available for the direction\n  // TODO OVERLAPPING SHIP COORDINATES\n\n\n  for (let ship in SHIPS_OBJ) {\n    let directionForShip = DIRECTION_ARR[Math.floor(Math.random() * DIRECTION_ARR.length)];\n    let horizontalCoord = generateRandomCoordinates(gameBoardPlacerHolder, SHIPS_OBJ[ship], directionForShip);\n    let coordX = horizontalCoord[0];\n    let coordY = horizontalCoord[1]; // console.log(AVAILABLE_SPACES);\n\n    while (!validCoordinate(coordX, coordY, SHIPS_OBJ[ship], directionForShip)) {\n      horizontalCoord = generateRandomCoordinates(gameBoardPlacerHolder, SHIPS_OBJ[ship], directionForShip); // console.log(\"generating new coordinates\");\n\n      coordX = horizontalCoord[0];\n      coordY = horizontalCoord[1];\n      break;\n    }\n\n    if (directionForShip === 'horizontal') {\n      for (let i = coordX; i < coordX + SHIPS_OBJ[ship]; i++) {\n        MAP_OF_SHIP_COORDS[ship].push([i, coordY]);\n        let index = findIndexToDelete(i, coordY);\n        AVAILABLE_SPACES.splice(index, 1); // console.log(\"horizontal splice \" + AVAILABLE_SPACES[0]);\n\n        defaultState.gameBoard[i][coordY] = UNIQUE_IDS[ship];\n\n        if (MAP_OF_SHIP_COORDS[ship].length === 3 * SHIPS_OBJ[ship]) {\n          generateShipCoordinates(ship, SHIPS_OBJ[ship], MAP_OF_SHIP_COORDS[ship].length);\n        }\n      }\n    } else {\n      for (let i = coordY; i < coordY + SHIPS_OBJ[ship]; i++) {\n        MAP_OF_SHIP_COORDS[ship].push([coordX, i]);\n        let index = findIndexToDelete(coordX, i);\n        AVAILABLE_SPACES.splice(index, 1); // console.log(\"vertical splice \" + AVAILABLE_SPACES[0]);\n\n        defaultState.gameBoard[coordX][i] = UNIQUE_IDS[ship];\n\n        if (MAP_OF_SHIP_COORDS[ship].length === 3 * SHIPS_OBJ[ship]) {\n          generateShipCoordinates(ship, SHIPS_OBJ[ship], MAP_OF_SHIP_COORDS[ship].length);\n        }\n      }\n    }\n  }\n\n  return defaultState.gameBoard;\n} // export const convertMapToArray = () => {\n//     for (let ship in MAP_OF_SHIP_COORDS) {\n//         for (let i = 0; i < SHIPS_OBJ[ship]; i++) {\n//         }\n//     }\n// }\n// export const checkBoardIfValidShips = (state) => {\n//     // go through the board, check if map of ship coords contains duplicates\n//     //if yes, return false\n//     //not return true;\n// }\n\nfunction findIndexToDelete(xCoord, yCoord) {\n  for (let i = 0; i < SPACE_LENGTH; i++) {\n    if (AVAILABLE_SPACES[i] === [xCoord, yCoord]) {\n      return i;\n    }\n  }\n}\n\nfunction coordinateExists(xCoord, yCoord) {\n  for (let i = 0; i < SPACE_LENGTH; i++) {\n    if (AVAILABLE_SPACES[i] === [xCoord, yCoord]) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nexport const validCoordinate = (xCoord, yCoord, length, directionForShip) => {\n  if (directionForShip === 'horizontal') {\n    for (let i = 0; i < length; i++) {\n      if (!coordinateExists(xCoord, yCoord + i)) {\n        return false;\n      }\n    }\n\n    return true;\n  } else {\n    for (let i = 0; i < length; i++) {\n      if (!coordinateExists(xCoord + i, yCoord)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n};\n\nfunction generateShipCoordinates(ship, length, arrLength) {\n  MAP_OF_SHIP_COORDS[ship].splice(0, arrLength - length); // console.log(MAP_OF_SHIP_COORDS);\n}\n\nfunction generateRandomCoordinates(gameboard, length, directionForShip) {\n  let x = 0;\n  let y = 0;\n\n  if (directionForShip === 'horizontal') {\n    x = generateRandomNumber(0, gameboard.length - length);\n    y = generateRandomNumber(0, gameboard.length - 1);\n  } else {\n    x = generateRandomNumber(0, gameboard.length - 1);\n    y = generateRandomNumber(0, gameboard.length - length);\n  }\n\n  return [x, y];\n}\n\nexport const generateRandomNumber = (start, end) => {\n  return Math.floor(Math.random() * (end - start + 1) + start);\n};\nexport const incrementCounter = ship => {\n  COUNTER[ship] += 1;\n};\nexport const checkIfAllShipsHit = ship => {\n  if (COUNTER[ship] === SHIPS_OBJ[ship]) {\n    return true;\n  }\n};\nexport const destroyShips = (state, ship) => {\n  for (let i = 0; i < SHIPS_OBJ[ship]; i++) {\n    let coordX = MAP_OF_SHIP_COORDS[ship][i][0];\n    let coordY = MAP_OF_SHIP_COORDS[ship][i][1];\n    state[coordX][coordY] = 'S';\n  }\n};\nexport const addUsedSquare = (xCoord, yCoord) => {\n  TRACKING_USED_SQUARE.push([xCoord, yCoord]);\n};\nexport const checkIfValidCoordinate = (state, xCoord, yCoord) => {\n  for (let i = 0; i < TRACKING_USED_SQUARE.length; i++) {\n    if (TRACKING_USED_SQUARE[i][0] === xCoord && TRACKING_USED_SQUARE[i][1] === yCoord) {\n      return false;\n    }\n  }\n\n  return true;\n};","map":{"version":3,"sources":["/Users/sheetalturaga/JuliaHan-SheetalTuraga-BattleShip-Project2/other_implementation/src/reducers/PlayerBoardAction.js"],"names":["SPACE_LENGTH","SHIPS_OBJ","scout","submarine","destroyer","aircraft","MAP_OF_SHIP_COORDS","UNIQUE_IDS","COUNTER","DIRECTION_ARR","AVAILABLE_SPACES","TRACKING_USED_SQUARE","defaultState","count","gameBoard","isComputerTurn","generateEmptyBoard","gameBoardPlacerHolder","row","length","column","push","ship","directionForShip","Math","floor","random","horizontalCoord","generateRandomCoordinates","coordX","coordY","validCoordinate","i","index","findIndexToDelete","splice","generateShipCoordinates","xCoord","yCoord","coordinateExists","arrLength","gameboard","x","y","generateRandomNumber","start","end","incrementCounter","checkIfAllShipsHit","destroyShips","state","addUsedSquare","checkIfValidCoordinate"],"mappings":"AAAA,OAAO,MAAMA,YAAY,GAAG,GAArB;AAEP,OAAO,MAAMC,SAAS,GAAG;AACrBC,EAAAA,KAAK,EAAE,CADc;AAErBC,EAAAA,SAAS,EAAE,CAFU;AAGrBC,EAAAA,SAAS,EAAE,CAHU;AAIrBC,EAAAA,QAAQ,EAAE;AAJW,CAAlB;AAOP,OAAO,MAAMC,kBAAkB,GAAG;AAC9BJ,EAAAA,KAAK,EAAE,EADuB;AAE9BC,EAAAA,SAAS,EAAE,EAFmB;AAG9BC,EAAAA,SAAS,EAAE,EAHmB;AAI9BC,EAAAA,QAAQ,EAAE;AAJoB,CAA3B;AAOP,OAAO,MAAME,UAAU,GAAG;AACtBL,EAAAA,KAAK,EAAE,KADe;AAEtBC,EAAAA,SAAS,EAAE,KAFW;AAGtBC,EAAAA,SAAS,EAAE,KAHW;AAItBC,EAAAA,QAAQ,EAAE;AAJY,CAAnB;AAOP,OAAO,MAAMG,OAAO,GAAG;AACnBN,EAAAA,KAAK,EAAE,CADY;AAEnBC,EAAAA,SAAS,EAAE,CAFQ;AAGnBC,EAAAA,SAAS,EAAE,CAHQ;AAInBC,EAAAA,QAAQ,EAAE;AAJS,CAAhB;AAOP,OAAO,MAAMI,aAAa,GAAG,CAAC,YAAD,EAAe,UAAf,CAAtB;AAEP,OAAO,MAAMC,gBAAgB,GAAG,EAAzB;AAEP,OAAO,MAAMC,oBAAoB,GAAG,EAA7B;AAIP,MAAMC,YAAY,GAAG;AACjBC,EAAAA,KAAK,EAAE,CADU;AAEjBC,EAAAA,SAAS,EAAE,CAAC,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,EAAyB,EAAzB,EAA6B,EAA7B,EAAiC,EAAjC,EAAqC,EAArC,CAAD,EACX,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,EAAyB,EAAzB,EAA6B,EAA7B,EAAiC,EAAjC,EAAqC,EAArC,CADW,EAEX,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,EAAyB,EAAzB,EAA6B,EAA7B,EAAiC,EAAjC,EAAqC,EAArC,CAFW,EAGX,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,EAAyB,EAAzB,EAA6B,EAA7B,EAAiC,EAAjC,EAAqC,EAArC,CAHW,EAIX,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,EAAyB,EAAzB,EAA6B,EAA7B,EAAiC,EAAjC,EAAqC,EAArC,CAJW,EAKX,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,EAAyB,EAAzB,EAA6B,EAA7B,EAAiC,EAAjC,EAAqC,EAArC,CALW,EAMX,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,EAAyB,EAAzB,EAA6B,EAA7B,EAAiC,EAAjC,EAAqC,EAArC,CANW,EAOX,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,EAAyB,EAAzB,EAA6B,EAA7B,EAAiC,EAAjC,EAAqC,EAArC,CAPW,EAQX,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,EAAyB,EAAzB,EAA6B,EAA7B,EAAiC,EAAjC,EAAqC,EAArC,CARW,EASX,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,EAAyB,EAAzB,EAA6B,EAA7B,EAAiC,EAAjC,EAAqC,EAArC,CATW,CAFM;AAYjBC,EAAAA,cAAc,EAAC;AAZE,CAArB;AAeA,eAAe,SAASC,kBAAT,GAA8B;AACzC,MAAIJ,YAAY,GAAG;AACfC,IAAAA,KAAK,EAAE,CADQ;AAEfC,IAAAA,SAAS,EAAE,CAAC,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,EAAyB,EAAzB,EAA6B,EAA7B,EAAiC,EAAjC,EAAqC,EAArC,CAAD,EACX,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,EAAyB,EAAzB,EAA6B,EAA7B,EAAiC,EAAjC,EAAqC,EAArC,CADW,EAEX,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,EAAyB,EAAzB,EAA6B,EAA7B,EAAiC,EAAjC,EAAqC,EAArC,CAFW,EAGX,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,EAAyB,EAAzB,EAA6B,EAA7B,EAAiC,EAAjC,EAAqC,EAArC,CAHW,EAIX,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,EAAyB,EAAzB,EAA6B,EAA7B,EAAiC,EAAjC,EAAqC,EAArC,CAJW,EAKX,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,EAAyB,EAAzB,EAA6B,EAA7B,EAAiC,EAAjC,EAAqC,EAArC,CALW,EAMX,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,EAAyB,EAAzB,EAA6B,EAA7B,EAAiC,EAAjC,EAAqC,EAArC,CANW,EAOX,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,EAAyB,EAAzB,EAA6B,EAA7B,EAAiC,EAAjC,EAAqC,EAArC,CAPW,EAQX,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,EAAyB,EAAzB,EAA6B,EAA7B,EAAiC,EAAjC,EAAqC,EAArC,CARW,EASX,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,EAAyB,EAAzB,EAA6B,EAA7B,EAAiC,EAAjC,EAAqC,EAArC,CATW;AAFI,GAAnB;AAcA,MAAIG,qBAAqB,GAAGL,YAAY,CAACE,SAAzC;;AACA,OAAK,IAAII,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGD,qBAAqB,CAACE,MAA9C,EAAsDD,GAAG,EAAzD,EAA6D;AACzD,SAAK,IAAIE,MAAM,GAAG,CAAlB,EAAqBA,MAAM,GAAGH,qBAAqB,CAACE,MAApD,EAA4DC,MAAM,EAAlE,EAAsE;AAClEV,MAAAA,gBAAgB,CAACW,IAAjB,CAAsB,CAACH,GAAD,EAAME,MAAN,CAAtB;AACH;AACJ,GApBwC,CAqBzC;AACA;AACA;;;AACA,OAAK,IAAIE,IAAT,IAAiBrB,SAAjB,EAA4B;AACxB,QAAIsB,gBAAgB,GAAGd,aAAa,CAACe,IAAI,CAACC,KAAL,CAAYD,IAAI,CAACE,MAAL,KAAcjB,aAAa,CAACU,MAAxC,CAAD,CAApC;AACA,QAAIQ,eAAe,GAAGC,yBAAyB,CAACX,qBAAD,EAAwBhB,SAAS,CAACqB,IAAD,CAAjC,EAAyCC,gBAAzC,CAA/C;AACA,QAAIM,MAAM,GAAGF,eAAe,CAAC,CAAD,CAA5B;AACA,QAAIG,MAAM,GAAGH,eAAe,CAAC,CAAD,CAA5B,CAJwB,CAKxB;;AACA,WAAO,CAACI,eAAe,CAACF,MAAD,EAASC,MAAT,EAAiB7B,SAAS,CAACqB,IAAD,CAA1B,EAAkCC,gBAAlC,CAAvB,EAA4E;AACxEI,MAAAA,eAAe,GAAGC,yBAAyB,CAACX,qBAAD,EAAwBhB,SAAS,CAACqB,IAAD,CAAjC,EAAyCC,gBAAzC,CAA3C,CADwE,CAExE;;AACAM,MAAAA,MAAM,GAAGF,eAAe,CAAC,CAAD,CAAxB;AACAG,MAAAA,MAAM,GAAGH,eAAe,CAAC,CAAD,CAAxB;AACA;AACH;;AACD,QAAIJ,gBAAgB,KAAK,YAAzB,EAAuC;AACnC,WAAK,IAAIS,CAAC,GAAGH,MAAb,EAAqBG,CAAC,GAAGH,MAAM,GAAG5B,SAAS,CAACqB,IAAD,CAA3C,EAAmDU,CAAC,EAApD,EAAwD;AACpD1B,QAAAA,kBAAkB,CAACgB,IAAD,CAAlB,CAAyBD,IAAzB,CAA8B,CAACW,CAAD,EAAIF,MAAJ,CAA9B;AACA,YAAIG,KAAK,GAAGC,iBAAiB,CAACF,CAAD,EAAIF,MAAJ,CAA7B;AACApB,QAAAA,gBAAgB,CAACyB,MAAjB,CAAwBF,KAAxB,EAA+B,CAA/B,EAHoD,CAIpD;;AACArB,QAAAA,YAAY,CAACE,SAAb,CAAuBkB,CAAvB,EAA0BF,MAA1B,IAAoCvB,UAAU,CAACe,IAAD,CAA9C;;AACA,YAAIhB,kBAAkB,CAACgB,IAAD,CAAlB,CAAyBH,MAAzB,KAAoC,IAAIlB,SAAS,CAACqB,IAAD,CAArD,EAA6D;AACzDc,UAAAA,uBAAuB,CAACd,IAAD,EAAOrB,SAAS,CAACqB,IAAD,CAAhB,EAAwBhB,kBAAkB,CAACgB,IAAD,CAAlB,CAAyBH,MAAjD,CAAvB;AACH;AACJ;AACJ,KAXD,MAWM;AACF,WAAK,IAAIa,CAAC,GAAGF,MAAb,EAAqBE,CAAC,GAAGF,MAAM,GAAG7B,SAAS,CAACqB,IAAD,CAA3C,EAAmDU,CAAC,EAApD,EAAwD;AACpD1B,QAAAA,kBAAkB,CAACgB,IAAD,CAAlB,CAAyBD,IAAzB,CAA8B,CAACQ,MAAD,EAASG,CAAT,CAA9B;AACA,YAAIC,KAAK,GAAGC,iBAAiB,CAACL,MAAD,EAASG,CAAT,CAA7B;AACAtB,QAAAA,gBAAgB,CAACyB,MAAjB,CAAwBF,KAAxB,EAA+B,CAA/B,EAHoD,CAIpD;;AACArB,QAAAA,YAAY,CAACE,SAAb,CAAuBe,MAAvB,EAA+BG,CAA/B,IAAoCzB,UAAU,CAACe,IAAD,CAA9C;;AACA,YAAIhB,kBAAkB,CAACgB,IAAD,CAAlB,CAAyBH,MAAzB,KAAoC,IAAIlB,SAAS,CAACqB,IAAD,CAArD,EAA6D;AACzDc,UAAAA,uBAAuB,CAACd,IAAD,EAAOrB,SAAS,CAACqB,IAAD,CAAhB,EAAwBhB,kBAAkB,CAACgB,IAAD,CAAlB,CAAyBH,MAAjD,CAAvB;AACH;AACJ;AACJ;AACJ;;AAED,SAAOP,YAAY,CAACE,SAApB;AACH,C,CAED;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;;AAEA,SAASoB,iBAAT,CAA2BG,MAA3B,EAAmCC,MAAnC,EAA2C;AACvC,OAAK,IAAIN,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGhC,YAApB,EAAkCgC,CAAC,EAAnC,EAAuC;AACnC,QAAItB,gBAAgB,CAACsB,CAAD,CAAhB,KAAwB,CAACK,MAAD,EAASC,MAAT,CAA5B,EAA8C;AAC1C,aAAON,CAAP;AACH;AACJ;AACJ;;AAED,SAASO,gBAAT,CAA0BF,MAA1B,EAAkCC,MAAlC,EAA0C;AACtC,OAAK,IAAIN,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGhC,YAApB,EAAkCgC,CAAC,EAAnC,EAAuC;AACnC,QAAItB,gBAAgB,CAACsB,CAAD,CAAhB,KAAwB,CAACK,MAAD,EAASC,MAAT,CAA5B,EAA8C;AAC1C,aAAO,IAAP;AACH;AACJ;;AACD,SAAO,KAAP;AACH;;AAED,OAAO,MAAMP,eAAe,GAAG,CAACM,MAAD,EAASC,MAAT,EAAiBnB,MAAjB,EAAyBI,gBAAzB,KAA8C;AACzE,MAAIA,gBAAgB,KAAK,YAAzB,EAAuC;AACnC,SAAK,IAAIS,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGb,MAApB,EAA4Ba,CAAC,EAA7B,EAAiC;AAC7B,UAAI,CAACO,gBAAgB,CAACF,MAAD,EAASC,MAAM,GAAGN,CAAlB,CAArB,EAA2C;AACvC,eAAO,KAAP;AACH;AACJ;;AACD,WAAO,IAAP;AACH,GAPD,MAOO;AACH,SAAK,IAAIA,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGb,MAApB,EAA4Ba,CAAC,EAA7B,EAAiC;AAC7B,UAAI,CAACO,gBAAgB,CAACF,MAAM,GAAGL,CAAV,EAAaM,MAAb,CAArB,EAA2C;AACvC,eAAO,KAAP;AACH;AACJ;;AACD,WAAO,IAAP;AACH;AAEJ,CAjBM;;AAmBP,SAASF,uBAAT,CAAiCd,IAAjC,EAAuCH,MAAvC,EAA+CqB,SAA/C,EAA0D;AAClDlC,EAAAA,kBAAkB,CAACgB,IAAD,CAAlB,CAAyBa,MAAzB,CAAgC,CAAhC,EAAmCK,SAAS,GAAGrB,MAA/C,EADkD,CAEtD;AACH;;AAED,SAASS,yBAAT,CAAmCa,SAAnC,EAA8CtB,MAA9C,EAAsDI,gBAAtD,EAAuE;AACnE,MAAImB,CAAC,GAAG,CAAR;AACA,MAAIC,CAAC,GAAG,CAAR;;AACA,MAAIpB,gBAAgB,KAAK,YAAzB,EAAuC;AACnCmB,IAAAA,CAAC,GAAGE,oBAAoB,CAAC,CAAD,EAAIH,SAAS,CAACtB,MAAV,GAAmBA,MAAvB,CAAxB;AACAwB,IAAAA,CAAC,GAAGC,oBAAoB,CAAC,CAAD,EAAIH,SAAS,CAACtB,MAAV,GAAmB,CAAvB,CAAxB;AACH,GAHD,MAIK;AACDuB,IAAAA,CAAC,GAAGE,oBAAoB,CAAC,CAAD,EAAIH,SAAS,CAACtB,MAAV,GAAmB,CAAvB,CAAxB;AACAwB,IAAAA,CAAC,GAAGC,oBAAoB,CAAC,CAAD,EAAIH,SAAS,CAACtB,MAAV,GAAmBA,MAAvB,CAAxB;AACH;;AAED,SAAO,CAACuB,CAAD,EAAIC,CAAJ,CAAP;AACH;;AAED,OAAO,MAAMC,oBAAoB,GAAG,CAACC,KAAD,EAAQC,GAAR,KAAgB;AAChD,SAAOtB,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,MAAiBoB,GAAG,GAAGD,KAAN,GAAc,CAA/B,IAAoCA,KAA/C,CAAP;AACH,CAFM;AAIP,OAAO,MAAME,gBAAgB,GAAIzB,IAAD,IAAU;AACtCd,EAAAA,OAAO,CAACc,IAAD,CAAP,IAAiB,CAAjB;AACH,CAFM;AAIP,OAAO,MAAM0B,kBAAkB,GAAI1B,IAAD,IAAU;AACxC,MAAId,OAAO,CAACc,IAAD,CAAP,KAAkBrB,SAAS,CAACqB,IAAD,CAA/B,EAAuC;AACnC,WAAO,IAAP;AACH;AACJ,CAJM;AAMP,OAAO,MAAM2B,YAAY,GAAG,CAACC,KAAD,EAAQ5B,IAAR,KAAiB;AACzC,OAAK,IAAIU,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG/B,SAAS,CAACqB,IAAD,CAA7B,EAAqCU,CAAC,EAAtC,EAA0C;AACtC,QAAIH,MAAM,GAAGvB,kBAAkB,CAACgB,IAAD,CAAlB,CAAyBU,CAAzB,EAA4B,CAA5B,CAAb;AACA,QAAIF,MAAM,GAAGxB,kBAAkB,CAACgB,IAAD,CAAlB,CAAyBU,CAAzB,EAA4B,CAA5B,CAAb;AACAkB,IAAAA,KAAK,CAACrB,MAAD,CAAL,CAAcC,MAAd,IAAwB,GAAxB;AACH;AACJ,CANM;AAQP,OAAO,MAAMqB,aAAa,GAAG,CAACd,MAAD,EAASC,MAAT,KAAoB;AAC7C3B,EAAAA,oBAAoB,CAACU,IAArB,CAA0B,CAACgB,MAAD,EAASC,MAAT,CAA1B;AACH,CAFM;AAIP,OAAO,MAAMc,sBAAsB,GAAG,CAACF,KAAD,EAAQb,MAAR,EAAgBC,MAAhB,KAA2B;AAC7D,OAAK,IAAIN,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGrB,oBAAoB,CAACQ,MAAzC,EAAiDa,CAAC,EAAlD,EAAsD;AAClD,QAAIrB,oBAAoB,CAACqB,CAAD,CAApB,CAAwB,CAAxB,MAA+BK,MAA/B,IAAyC1B,oBAAoB,CAACqB,CAAD,CAApB,CAAwB,CAAxB,MAA+BM,MAA5E,EAAoF;AAChF,aAAO,KAAP;AACH;AACJ;;AACD,SAAO,IAAP;AACH,CAPM","sourcesContent":["export const SPACE_LENGTH = 100;\n\nexport const SHIPS_OBJ = {\n    scout: 2,\n    submarine: 3,\n    destroyer: 4,\n    aircraft: 5,\n}\n\nexport const MAP_OF_SHIP_COORDS = {\n    scout: [],\n    submarine: [],\n    destroyer: [],\n    aircraft: []\n}\n\nexport const UNIQUE_IDS = {\n    scout: 'sct',\n    submarine: 'sbe',\n    destroyer: 'der',\n    aircraft: 'act'\n}\n\nexport const COUNTER = {\n    scout: 0,\n    submarine: 0,\n    destroyer: 0,\n    aircraft: 0\n}\n\nexport const DIRECTION_ARR = ['horizontal', 'vertical'];\n\nexport const AVAILABLE_SPACES = [];\n\nexport const TRACKING_USED_SQUARE = [];\n\n\n\nconst defaultState = {\n    count: 0,\n    gameBoard: [['', '', '', '', '', '', '', '', '', ''],\n    ['', '', '', '', '', '', '', '', '', ''],\n    ['', '', '', '', '', '', '', '', '', ''],\n    ['', '', '', '', '', '', '', '', '', ''],\n    ['', '', '', '', '', '', '', '', '', ''],\n    ['', '', '', '', '', '', '', '', '', ''],\n    ['', '', '', '', '', '', '', '', '', ''],\n    ['', '', '', '', '', '', '', '', '', ''], \n    ['', '', '', '', '', '', '', '', '', ''],\n    ['', '', '', '', '', '', '', '', '', '']],         \n    isComputerTurn:false\n}\n\nexport default function generateEmptyBoard() {\n    let defaultState = {\n        count: 0,\n        gameBoard: [['', '', '', '', '', '', '', '', '', ''],\n        ['', '', '', '', '', '', '', '', '', ''],\n        ['', '', '', '', '', '', '', '', '', ''],\n        ['', '', '', '', '', '', '', '', '', ''],\n        ['', '', '', '', '', '', '', '', '', ''],\n        ['', '', '', '', '', '', '', '', '', ''],\n        ['', '', '', '', '', '', '', '', '', ''],\n        ['', '', '', '', '', '', '', '', '', ''],\n        ['', '', '', '', '', '', '', '', '', ''],\n        ['', '', '', '', '', '', '', '', '', '']],\n    }\n\n    let gameBoardPlacerHolder = defaultState.gameBoard;\n    for (let row = 0; row < gameBoardPlacerHolder.length; row++) {\n        for (let column = 0; column < gameBoardPlacerHolder.length; column++) {\n            AVAILABLE_SPACES.push([row, column]);\n        }\n    }\n    //remove i, j from availabke spaces\n    //when generating coords, check if i, j exist, if it doesnt then use function to check that the spaces are available for the direction\n    // TODO OVERLAPPING SHIP COORDINATES\n    for (let ship in SHIPS_OBJ) {\n        let directionForShip = DIRECTION_ARR[Math.floor((Math.random()*DIRECTION_ARR.length))];\n        let horizontalCoord = generateRandomCoordinates(gameBoardPlacerHolder, SHIPS_OBJ[ship], directionForShip);\n        let coordX = horizontalCoord[0];\n        let coordY = horizontalCoord[1];\n        // console.log(AVAILABLE_SPACES);\n        while (!validCoordinate(coordX, coordY, SHIPS_OBJ[ship], directionForShip)) {\n            horizontalCoord = generateRandomCoordinates(gameBoardPlacerHolder, SHIPS_OBJ[ship], directionForShip);\n            // console.log(\"generating new coordinates\");\n            coordX = horizontalCoord[0];\n            coordY = horizontalCoord[1];\n            break;\n        } \n        if (directionForShip === 'horizontal') {\n            for (let i = coordX; i < coordX + SHIPS_OBJ[ship]; i++) {\n                MAP_OF_SHIP_COORDS[ship].push([i, coordY]);\n                let index = findIndexToDelete(i, coordY);\n                AVAILABLE_SPACES.splice(index, 1);\n                // console.log(\"horizontal splice \" + AVAILABLE_SPACES[0]);\n                defaultState.gameBoard[i][coordY] = UNIQUE_IDS[ship];\n                if (MAP_OF_SHIP_COORDS[ship].length === 3 * SHIPS_OBJ[ship]) {\n                    generateShipCoordinates(ship, SHIPS_OBJ[ship], MAP_OF_SHIP_COORDS[ship].length);\n                }\n            } \n        }else {\n            for (let i = coordY; i < coordY + SHIPS_OBJ[ship]; i++) {\n                MAP_OF_SHIP_COORDS[ship].push([coordX, i]);\n                let index = findIndexToDelete(coordX, i);\n                AVAILABLE_SPACES.splice(index, 1);\n                // console.log(\"vertical splice \" + AVAILABLE_SPACES[0]);\n                defaultState.gameBoard[coordX][i] = UNIQUE_IDS[ship];\n                if (MAP_OF_SHIP_COORDS[ship].length === 3 * SHIPS_OBJ[ship]) {\n                    generateShipCoordinates(ship, SHIPS_OBJ[ship], MAP_OF_SHIP_COORDS[ship].length);\n                }\n            }\n        }\n    }\n\n    return defaultState.gameBoard;\n}\n\n// export const convertMapToArray = () => {\n//     for (let ship in MAP_OF_SHIP_COORDS) {\n//         for (let i = 0; i < SHIPS_OBJ[ship]; i++) {\n\n//         }\n//     }\n// }\n\n// export const checkBoardIfValidShips = (state) => {\n//     // go through the board, check if map of ship coords contains duplicates\n//     //if yes, return false\n//     //not return true;\n    \n// }\n\nfunction findIndexToDelete(xCoord, yCoord) {\n    for (let i = 0; i < SPACE_LENGTH; i++) {\n        if (AVAILABLE_SPACES[i] === [xCoord, yCoord]) {\n            return i;\n        }\n    }\n}\n\nfunction coordinateExists(xCoord, yCoord) {\n    for (let i = 0; i < SPACE_LENGTH; i++) {\n        if (AVAILABLE_SPACES[i] === [xCoord, yCoord]) {\n            return true;\n        }\n    }\n    return false;\n}\n\nexport const validCoordinate = (xCoord, yCoord, length, directionForShip) => {\n    if (directionForShip === 'horizontal') {\n        for (let i = 0; i < length; i++) {\n            if (!coordinateExists(xCoord, yCoord + i)) {\n                return false;\n            }\n        }\n        return true;\n    } else {\n        for (let i = 0; i < length; i++) {\n            if (!coordinateExists(xCoord + i, yCoord)) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n}\n\nfunction generateShipCoordinates(ship, length, arrLength) {\n        MAP_OF_SHIP_COORDS[ship].splice(0, arrLength - length); \n    // console.log(MAP_OF_SHIP_COORDS);\n}\n\nfunction generateRandomCoordinates(gameboard, length, directionForShip){\n    let x = 0;\n    let y = 0;\n    if (directionForShip === 'horizontal') {\n        x = generateRandomNumber(0, gameboard.length - length);\n        y = generateRandomNumber(0, gameboard.length - 1);\n    }\n    else {\n        x = generateRandomNumber(0, gameboard.length - 1);\n        y = generateRandomNumber(0, gameboard.length - length);\n    }\n\n    return [x, y]\n}\n\nexport const generateRandomNumber = (start, end) => {\n    return Math.floor(Math.random() * (end - start + 1) + start);\n}\n\nexport const incrementCounter = (ship) => {\n    COUNTER[ship] += 1;\n}\n\nexport const checkIfAllShipsHit = (ship) => {\n    if (COUNTER[ship] === SHIPS_OBJ[ship]) {\n        return true;\n    }\n}\n\nexport const destroyShips = (state, ship) => {\n    for (let i = 0; i < SHIPS_OBJ[ship]; i++) {\n        let coordX = MAP_OF_SHIP_COORDS[ship][i][0];\n        let coordY = MAP_OF_SHIP_COORDS[ship][i][1];\n        state[coordX][coordY] = 'S';\n    }\n}\n\nexport const addUsedSquare = (xCoord, yCoord) => {\n    TRACKING_USED_SQUARE.push([xCoord, yCoord]);\n}\n\nexport const checkIfValidCoordinate = (state, xCoord, yCoord) => {\n    for (let i = 0; i < TRACKING_USED_SQUARE.length; i++) {\n        if (TRACKING_USED_SQUARE[i][0] === xCoord && TRACKING_USED_SQUARE[i][1] === yCoord) {\n            return false;\n        }\n    }\n    return true;\n}"]},"metadata":{},"sourceType":"module"}